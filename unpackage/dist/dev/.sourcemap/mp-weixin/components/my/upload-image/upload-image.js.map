{"version":3,"sources":["webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?16a5","webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?1133","webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?8235","webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?6864","uni-app:///components/my/upload-image/upload-image.vue","webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?c1c3","webpack:///D:/workspace/uniapp/仿糗事百科/components/my/upload-image/upload-image.vue?1578","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AAC4M;AAC5M,gBAAgB,gNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAszB,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2B10B;AACA,UADA;AAEA,SAFA;AAGA,mBAHA;;AAKA;AACA,cADA;AAEA,YAFA;AAGA,0BAHA,E;;AAKA;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,wBAFA;AAGA,uCAHA;AAIA,sBAJA;AAKA,qCALA;AAMA,mBANA;AAOA,wCAPA;;AASA,GAXA;AAYA;AACA;;;;;;;;;;;AAWA,2CAXA;;;AAcA;AACA,8DADA;AAEA,wDAFA;AAGA;AACA,6CAJA;AAKA;AACA;AACA;AACA,mBARA;AASA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA;AACA;AACA,kCAZA;;AAcA;AACA;AACA,yCADA;AAEA,+EAFA;AAGA;AACA;AACA;AACA;AACA,6BAPA;;AASA;AACA,uBA5BA;;;AA+BA,mBA/CA,IAdA,2JADA;;;AAiEA;AACA;AACA;AACA,wBADA;AAEA,4BAFA;;AAIA,KAvEA;AAwEA,aAxEA,qBAwEA,KAxEA,EAwEA;AACA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KApFA,EAZA,E;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA2pC,CAAgB,gmCAAG,EAAC,C;;;;;;;;;;;ACA/qC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,yH;AACAA,UAAU,CAACC,oBAAD,CAAV,C","file":"components/my/upload-image/upload-image.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./upload-image.vue?vue&type=template&id=35ee1227&\"\nvar renderjs\nimport script from \"./upload-image.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload-image.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/my/upload-image/upload-image.vue\"\nexport default component.exports","export * from \"-!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload-image.vue?vue&type=template&id=35ee1227&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload-image.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"uni-list list-pd\">\r\n        <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-uploader\">\r\n                <view class=\"uni-uploader-head\">\r\n                    <view class=\"uni-uploader-title\">点击可预览选好的图片</view>\r\n                    <view class=\"uni-uploader-info\">{{imageList.length}}/9</view>\r\n                </view>\r\n                <view class=\"uni-uploader-body\">\r\n                    <view class=\"uni-uploader__files\">\r\n                        <block v-for=\"(image,index) in imageList\" :key=\"index\">\r\n                            <view class=\"uni-uploader__file\">\r\n                                <view class=\"icon iconfont icon-shanchu\" @tap=\"deleteImg(index)\"></view>\r\n                                <image class=\"uni-uploader__img\" :src=\"image\" :data-src=\"image\" @tap=\"previewImage\"></image>\r\n                            </view>\r\n                        </block>\r\n                        <view class=\"uni-uploader__input-box\">\r\n                            <view class=\"uni-uploader__input\" @tap=\"chooseImage\"></view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    var sourceType = [\r\n        ['camera'],\r\n        ['album'],\r\n        ['camera', 'album']\r\n    ]\r\n    var sizeType = [\r\n        ['compressed'],\r\n        ['original'],\r\n        ['compressed', 'original']\r\n    ]\r\n    export default {\r\n        data() {\r\n            return {\r\n                imageList: [],\r\n                sourceTypeIndex: 2,\r\n                sourceType: ['拍照', '相册', '拍照或相册'],\r\n                sizeTypeIndex: 2,\r\n                sizeType: ['压缩', '原图', '压缩或原图'],\r\n                countIndex: 8,\r\n                count: [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n            }\r\n        },\r\n        methods: {\r\n            chooseImage: async function() {\r\n                // #ifdef APP-PLUS\r\n                // TODO 选择相机或相册时 需要弹出actionsheet，目前无法获得是相机还是相册，在失败回调中处理\r\n                if (this.sourceTypeIndex !== 2) {\r\n                    let status = await this.checkPermission();\r\n                    if (status !== 1) {\r\n                        return;\r\n                    }\r\n                }\r\n                // #endif\r\n\r\n                if (this.imageList.length === 9) {\r\n                    return\r\n                }\r\n                uni.chooseImage({\r\n                    sourceType: sourceType[this.sourceTypeIndex],\r\n                    sizeType: sizeType[this.sizeTypeIndex],\r\n                    count: this.imageList.length + this.count[this.countIndex] > 9 ? 9 - this.imageList.length :\r\n                        this.count[this.countIndex],\r\n                    success: (res) => {\r\n                        this.imageList = this.imageList.concat(res.tempFilePaths);\r\n                        this.$emit(\"imagelist\", this.imageList)\r\n                    },\r\n                    fail: (err) => {\r\n                        // #ifdef APP-PLUS\r\n                        if (err['code'] && err.code !== 0 && this.sourceTypeIndex === 2) {\r\n                            this.checkPermission(err.code);\r\n                        }\r\n                        // #endif\r\n                        // #ifdef MP\r\n                        uni.getSetting({\r\n                            success: (res) => {\r\n                                let authStatus = false;\r\n                                switch (this.sourceTypeIndex) {\r\n                                    case 0:\r\n                                        authStatus = res.authSetting['scope.camera'];\r\n                                        break;\r\n                                    case 1:\r\n                                        authStatus = res.authSetting['scope.album'];\r\n                                        break;\r\n                                    case 2:\r\n                                        authStatus = res.authSetting['scope.album'] && res.authSetting[\r\n                                            'scope.camera'];\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                                if (!authStatus) {\r\n                                    uni.showModal({\r\n                                        title: '授权失败',\r\n                                        content: 'Hello uni-app需要从您的相机或相册获取图片，请在设置界面打开相关权限',\r\n                                        success: (res) => {\r\n                                            if (res.confirm) {\r\n                                                uni.openSetting()\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                        // #endif\r\n                    }\r\n                })\r\n            },\r\n            previewImage: function(e) {\r\n                var current = e.target.dataset.src\r\n                uni.previewImage({\r\n                    current: current,\r\n                    urls: this.imageList\r\n                })\r\n            },\r\n            deleteImg(index) {\r\n                let _that = this;\r\n                uni.showModal({\r\n                    title: '提示',\r\n                    content: '是否要删除图片',\r\n                    success: function(res) {\r\n                        if (res.confirm) {\r\n                            _that.imageList.splice(index, 1)\r\n                            this.$emit(\"imagelist\", _that.imageList)\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .uni-uploader__file {\r\n        position: relative;\r\n    }\r\n\r\n    .cell-pd {\r\n        padding: 22rpx 30rpx;\r\n    }\r\n\r\n    .list-pd {\r\n        margin-top: 50rpx;\r\n    }\r\n\r\n    .icon-shanchu {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        background-color: #333333;\r\n        color: #FFFFFF;\r\n        z-index: 99;\r\n        opacity: 0.5;\r\n        padding: 0 5px;\r\n    }\r\n</style>\n","import mod from \"-!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload-image.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload-image.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594113566321\n      var cssReload = require(\"D:/download/HBuilderX.2.6.15.20200421/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './components/my/upload-image/upload-image.vue'\ncreatePage(Page)"],"sourceRoot":""}